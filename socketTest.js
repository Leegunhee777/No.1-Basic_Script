var latestMessages = [
  {
    id: 4289,
    roomId: 1364,
    date: '2021-04-23 13:52:39',
    writerId: 166034,
    message: '77777',
  },
  {
    id: 4290,
    roomId: 1360,
    date: '2021-04-23 13:54:49',
    writerId: 166034,
    message: '77777',
  },
  {
    id: 4294,
    roomId: 1356,
    date: '2021-04-23 14:01:23',
    writerId: 166034,
    message: '13131313',
  },
  {
    id: 4593,
    roomId: 1714,
    date: '2021-04-23 18:07:18',
    writerId: 166851,
    message: '77',
  },
  {
    id: 4768,
    roomId: 1707,
    date: '2021-04-26 15:07:53',
    writerId: 20,
    message: 'asd',
  },
  {
    id: 4770,
    roomId: 1713,
    date: '2021-04-26 15:08:18',
    writerId: 20,
    message: 'qwe',
  },
  {
    id: 4826,
    roomId: 1691,
    date: '2021-04-26 16:03:23',
    writerId: 20,
    message: '123',
  },
  {
    id: 4871,
    roomId: 1699,
    date: '2021-04-26 17:29:31',
    writerId: 20,
    message: 'qweqwe',
  },
  {
    id: 5027,
    roomId: 1688,
    date: '2021-04-28 16:06:38',
    writerId: 20,
    message: 'asjfkhaskfjhbajkshfbksahjfbkahjsfjahsbfkjhsfjkabsfjkhabsf',
  },
  {
    id: 5213,
    roomId: 1836,
    date: '2021-05-13 14:19:05',
    writerId: 166291,
    message: 'Tesro',
  },
  {
    id: 5216,
    roomId: 1842,
    date: '2021-05-13 14:26:10',
    writerId: 20,
    message:
      '(TEST PT 프리미엄 은비) (자동메세지) [상담기간: 평일 오전 10시 ~ 오후 5시…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5229,
    roomId: 1850,
    date: '2021-05-14 14:18:29',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5230,
    roomId: 1851,
    date: '2021-05-14 14:19:04',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5233,
    roomId: 1854,
    date: '2021-05-14 14:32:56',
    writerId: 20,
    message:
      '(TEST PT 프리미엄 은비) (자동메세지) [상담기간: 평일 오전 10시 ~ 오후 5시…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5234,
    roomId: 1855,
    date: '2021-05-14 14:34:26',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5237,
    roomId: 1858,
    date: '2021-05-14 14:41:51',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5238,
    roomId: 1859,
    date: '2021-05-14 14:42:56',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5239,
    roomId: 1860,
    date: '2021-05-14 14:43:51',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5240,
    roomId: 1861,
    date: '2021-05-14 15:25:35',
    writerId: 20,
    message:
      '(TEST PT 프리미엄 은비) (자동메세지) [상담기간: 평일 오전 10시 ~ 오후 5시…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5244,
    roomId: 1863,
    date: '2021-05-17 14:29:30',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5491,
    roomId: 1899,
    date: '2021-05-31 19:24:40',
    writerId: 20,
    message:
      '(TEST PT 프리미엄 은비) (자동메세지) [상담기간: 평일 오전 10시 ~ 오후 5시…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5492,
    roomId: 1900,
    date: '2021-05-31 19:28:52',
    writerId: 20,
    message:
      '(TEST PT 베이직 은비) [상담기간: 평일 오전 10시 ~ 오후 5시] 평일 오전 1…는 글로 식사 기록을 남겨주시면 상담사가 정확한 피드백을 드리는 데 큰 도움이 됩니다. ',
  },
  {
    id: 5553,
    roomId: 1912,
    date: '2021-06-08 14:28:13',
    writerId: 167191,
    message: 'tujcxzs',
  },
  {
    id: 5684,
    roomId: 1570,
    date: '2021-06-10 16:13:15',
    writerId: 166300,
    message: '8989898989',
  },
  {
    id: 5688,
    roomId: 1547,
    date: '2021-06-10 16:13:36',
    writerId: 166250,
    message: '33333',
  },
]

var unreadMessages = [
  {
    unreadCount: 2,
    programHistoryId: 238,
    memberId: 20,
    roomId: 1547,
    isStaff: true,
  },
  {
    unreadCount: 2,
    programHistoryId: 260,
    memberId: 20,
    roomId: 1570,
    isStaff: true,
  },
]

var resultArray = []
//최근메세지와 읽지않은메세지의 roomId 가 일치하는 것을 찾고, 찾고나면, unreadMessages 에있는 필요한 정보인 unreadCount값을 뽑아서 , latestMessageList object에 끼워서 새로운 property를 가진 latestMessageList를 만든다.
//roomId가 같은것을 찾고, latestMessages의 property에 unreadCount 값을 끼워넣는다.
unreadMessages.map((obj, index) => {
  latestMessages.forEach(function (element, index, array) {
    if (obj.roomId === element.roomId) {
      element.unreadCount = obj.unreadCount //새로은 property를 추가하는 과정임 latestMessages 배열안의 object에 unreadCount프로퍼티를 추가하고, unreadCount값을 넣는다.
      resultArray.push(element)
    }
  })
  return resultArray
})

console.log(resultArray)
